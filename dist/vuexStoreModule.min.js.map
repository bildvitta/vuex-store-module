{"version":3,"file":"vuexStoreModule.min.js","sources":["../src/vuexStoreModule.js"],"sourcesContent":["export default class {\n  constructor (options = {}) {\n    if (!options.apiService) {\n      throw new Error('Please provide an API service.')\n    }\n\n    // set this.api config\n    this.api = options.apiService\n  }\n\n  createStoreModule (resource, options = {}) {\n    if (!resource) {\n      throw new Error('Resource name must be specified.')\n    }\n\n    function call (name, ...parameters) {\n      if (typeof options[name] === 'function') {\n        options[name](parameters)\n      }\n    }\n\n    const idAttribute = options.idAttribute || 'id'\n    const perPage = options.perPage || 12\n\n    const methods = options.methods || [\n      'CREATE',\n      'DESTROY',\n      'FETCH_FILTERS',\n      'FETCH_FORM',\n      'FETCH_LIST',\n      'FETCH_SINGLE',\n      'REPLACE',\n      'UPDATE'\n    ]\n\n    const hasCreate = methods.includes('CREATE')\n    const hasDestroy = methods.includes('DESTROY')\n    const hasFetchFilters = methods.includes('FETCH_FILTERS')\n    const hasFetchForm = methods.includes('FETCH_FORM')\n    const hasFetchList = methods.includes('FETCH_LIST')\n    const hasFetchSingle = methods.includes('FETCH_SINGLE')\n    const hasReplace = methods.includes('REPLACE')\n    const hasUpdate = methods.includes('UPDATE')\n\n    // States\n    const stateData = {\n      filters: {},\n      list: [],\n      totalPages: 0\n    }\n\n    if (hasCreate) {\n      stateData.isFetchingSingle = false\n      stateData.fetchSingleError = null\n    }\n\n    if (hasDestroy) {\n      stateData.isDestroying = false\n      stateData.destroyError = null\n    }\n\n    if (hasFetchFilters) {\n      stateData.isFetchingFilters = false\n      stateData.fetchFiltersError = null\n    }\n\n    if (hasFetchForm) {\n      stateData.isFetchingForm = false\n      stateData.fetchFormError = null\n    }\n\n    if (hasFetchList) {\n      stateData.isFetchingList = false\n      stateData.fetchListError = null\n    }\n\n    if (hasFetchSingle) {\n      stateData.isFetchingSingle = false\n      stateData.fetchSingleError = null\n    }\n\n    if (hasReplace) {\n      stateData.isReplacing = false\n      stateData.replaceError = null\n    }\n\n    if (hasUpdate) {\n      stateData.isUpdating = false\n      stateData.updateError = null\n    }\n\n    Object.assign(stateData, options.state || {})\n\n    // Getters\n    const getters = {\n      list: state => state.list,\n\n      filters: state => state.filters,\n\n      totalPages: state => state.totalPages,\n  \n      byId: state => id => state.list.find(item => item[idAttribute] === id),\n\n      isLoading: state => (\n        state.isCreating ||\n        state.isDestroying ||\n        state.isFetchingFilters ||\n        state.isFetchingList ||\n        state.isFetchingSingle ||\n        state.isReplacing ||\n        state.isUpdating\n      ),\n\n      hasErrors: state => (\n        state.createError !== null ||\n        state.destroyError !== null ||\n        state.fetchFormError !== null ||\n        state.fetchFiltersError !== null ||\n        state.fetchListError !== null ||\n        state.fetchSingleError !== null ||\n        state.replaceError !== null ||\n        state.updateError !== null\n      )\n    }\n\n    Object.assign(getters, options.getters || {})\n\n    // Mutations\n    const mutations = {}\n\n    if (hasCreate) {\n      mutations.createStart = state => {\n        state.isCreating = true\n        call('onCreateStart', state)\n      }\n\n      mutations.createSuccess = (state, response) => {\n        const { data } = response\n\n        if (data) {\n          state.list.push(data)\n        }\n\n        state.createError = null\n        state.isCreating = false\n        call('onCreateSuccess', state, response)\n      }\n\n      mutations.createError = (state, error) => {\n        state.createError = error\n        state.isCreating = false\n        call('onCreateError', state, error)\n      }\n    }\n\n    if (hasDestroy) {\n      mutations.destroyStart = state => {\n        state.isDestroying = true\n        call('onDestroyStart', state)\n      }\n  \n      mutations.destroySuccess = (state, id) => {\n        const index = state.list.findIndex(item => item[idAttribute] === id)\n\n        if (~index) {\n          state.list.splice(index, 1)\n        }\n\n        state.destroyError = null\n        state.isDestroying = false\n        call('onDestroySuccess', state, id)\n      }\n\n      mutations.destroyError = (state, error) => {\n        state.destroyError = error\n        state.isDestroying = false\n        call('onDestroyError', state, error)\n      }\n    }\n\n    if (hasFetchFilters) {\n      mutations.fetchFiltersStart = state => {\n        state.isFetchingFilters = true\n        call('onFetchFiltersStart', state)\n      }\n\n      mutations.fetchFiltersSuccess = (state, response) => {\n        const { fields } = response.data\n        state.filters = fields\n\n        state.fetchFiltersError = null\n        state.isFetchingFilters = false\n        call('onfetchFiltersSuccess', state, response)\n      }\n\n      mutations.fetchFiltersError = (state, error) => {\n        state.fetchFiltersError = error\n        state.isFetchingFilters = false\n        call('onFetchFiltersError', state, error)\n      }\n    }\n\n    if (hasFetchForm) {\n      mutations.fetchFormStart = state => {\n        state.isFetchingForm = true\n        call('onFetchFormStart', state)\n      }\n  \n      mutations.fetchFormSuccess = (state, { errors, fields }) => {\n        state.fetchFormError = null\n        state.isFetchingForm = false\n        call('onfetchFormSuccess', state, response)\n      }\n\n      mutations.fetchFormError = (state, error) => {\n        state.fetchFormError = error\n        state.isFetchingForm = false\n        call('onFetchFormError', state, error)\n      }\n    }\n\n    if (hasFetchList) {\n      mutations.fetchListStart = state => {\n        state.isFetchingList = true\n        call('onFetchListStart', state)\n      }\n\n      mutations.fetchListSuccess = (state, payload = {}) => {\n        const { response, increment } = payload\n        const { results, count } = response.data\n\n        increment\n          ? state.list.push(...results)\n          : state.list = results || []\n  \n        state.totalPages = Math.ceil(count / perPage)\n        state.fetchListError = null\n        state.isFetchingList = false\n        call('onfetchListSuccess', state, response)\n      }\n\n      mutations.fetchListError = (state, payload = {}) => {\n        const { error, increment } = payload\n\n        if (!increment) {\n          state.list = []\n        }\n\n        state.fetchListError = error\n        state.isFetchingList = false\n        call('onFetchListError', state, error)\n      }\n    }\n\n    if (hasFetchSingle) {\n      mutations.fetchSingleStart = state => {\n        state.isFetchingSingle = true\n        call('onFetchSingleStart', state)\n      }\n\n      mutations.fetchSingleSuccess = (state, response) => {\n        const { result } = response.data\n\n        if (result) {\n          const index = state.list.findIndex(\n            item => item[idAttribute] === result[idAttribute]\n          )\n\n          if (~index) {\n            state.list[index] = result\n            return\n          }\n\n          state.list.push(result)\n        }\n\n        state.fetchSingleError = null\n        state.isFetchingSingle = false\n        call('onFetchSingleSuccess', state, response)\n      }\n\n      mutations.fetchSingleError = (state, error) => {\n        state.fetchSingleError = error\n        state.isFetchingSingle = false\n        call('onFetchSingleError', state, error)\n      }\n    }\n\n    if (hasReplace) {\n      mutations.replaceStart = state => {\n        state.isReplacing = true\n        call('onReplaceStart', state)\n      }\n\n      mutations.replaceSuccess = (state, response) => {\n        const { data } = response\n\n        const index = state.list.findIndex(\n          item => item[idAttribute] === data[idAttribute]\n        )\n\n        if (~index) {\n          state.list[index] = data\n        }\n\n        state.replaceError = null\n        state.isReplacing = false\n        call('onReplaceSuccess', state, response)\n      }\n\n      mutations.replaceError = (state, error) => {\n        state.replaceError = error\n        state.isReplacing = false\n        call('onReplaceError', state, error)\n      }\n    }\n\n    if (hasUpdate) {\n      mutations.updateStart = state => {\n        state.isUpdating = true\n        call('onUpdateStart', state)\n      }\n\n      mutations.updateSuccess = (state, response) => {\n        const { data } = response\n\n        for (const index in state.list) {\n          const item = state.list[index]\n\n          if (item[idAttribute] === data[idAttribute]) {\n            state.list[index] = { ...item, ...data }\n            break\n          }\n        }\n\n        state.updateError = null\n        state.isUpdating = false\n        call('onUpdateSuccess', state, response)\n      }\n  \n      mutations.updateError = (state, error) => {\n        state.updateError = error\n        state.isUpdating = false\n        call('onUpdateError', state, error)\n      }\n    }\n  \n    Object.assign(mutations, options.mutations || {})\n\n    // Actions\n    const actions = {}\n\n    if (hasCreate) {\n      actions.create = ({ commit }, { payload, url } = {}) => {\n        commit('createStart')\n        url = url || `/${resource}/`\n  \n        return this.api.post(url, payload).then(response => {\n          commit('createSuccess', response)\n          return response\n        }).catch(error => {\n          commit('createError', error)\n          return Promise.reject(error)\n        })\n      }\n    }\n\n    if (hasDestroy) {\n      actions.destroy = ({ commit }, { id, params } = {}) => {\n        commit('destroyStart')\n\n        return this.api.delete(`/${resource}/${id}/`, { params }).then(response => {\n          commit('destroySuccess', id)\n          return response\n        }).catch(error => {\n          commit('destroyError', error)\n          return Promise.reject(error)\n        })\n      }\n    }\n\n    if (hasFetchFilters) {\n      actions.fetchFilters = ({ commit }, { params, url } = {}) => {\n        commit('fetchFiltersStart')\n        url = url || options.fetchFiltersURL || `/${resource}/filters/`\n  \n        return this.api.get(url, { params }).then(response => {\n          commit('fetchFiltersSuccess', response)\n          return response\n        }).catch(error => {\n          commit('fetchFiltersError', error)\n          return Promise.reject(error)\n        })\n      }\n    }\n\n    if (hasFetchForm) {\n      actions.fetchForm = ({ commit }, { id, params, url } = {}) => {\n        commit('fetchFormStart')\n        url = url || `/${resource}/${id ? `edit/${id}` : 'new'}/`\n\n        return this.api.get(url, { params }).then(response => {\n          commit('fetchFormSuccess', response)\n          return response\n        }).catch(error => {\n          commit('fetchFormError', error)\n          return Promise.reject(error)\n        })\n      }\n    }\n\n    if (hasFetchList) {\n      actions.fetchList = (\n        { commit },\n        { filters = {}, increment, ordering = [], page = 1, limit, search, url } = {}\n      ) => {\n        const params = {\n          ...filters,\n          limit: limit || perPage,\n          offset: (page - 1) * (limit || perPage),\n          ordering: ordering.length ? ordering.join(',') : null,\n          search\n        }\n\n        commit('fetchListStart')\n        url = url || options.replaceURL || `/${resource}/`\n\n        return this.api.get(url, { params }).then(response => {\n          commit('fetchListSuccess', { response, increment })\n          return response\n        }).catch(error => {\n          commit('fetchListError', { error, increment })\n          return Promise.reject(error)\n        })\n      }\n    }\n\n    if (hasFetchSingle) {\n      actions.fetchSingle = ({ commit }, { form, id, params, url } = {}) => {\n        commit('fetchSingleStart')\n\n        url = url || (form\n          ? `/${resource}/${id ? `${id}/edit` : 'new'}/`\n          : options.fetchSingleURL || `/${resource}/${id}/`)\n\n        return this.api.get(url, { params }).then(response => {\n          commit('fetchSingleSuccess', response)\n          return response\n        }).catch(error => {\n          commit('fetchSingleError', error)\n          return Promise.reject(error)\n        })\n      }\n    }\n\n    if (hasReplace) {\n      actions.replace = ({ commit }, { id, payload, url } = {}) => {\n        commit('replaceStart')\n        url = url || options.replaceURL || `/${resource}/${id}/`\n\n        return this.api.put(url, payload).then(response => {\n          commit('replaceSuccess', response)\n          return response\n        }).catch(error => {\n          commit('replaceError', error)\n          return Promise.reject(error)\n        })\n      }\n    }\n\n    if (hasUpdate) {\n      actions.update = ({ commit }, { id, payload } = {}) => {\n        commit('updateStart')\n\n        return this.api.patch(`/${resource}/${id}`, payload).then(response => {\n          commit('updateSuccess', response)\n          return response\n        }).catch(error => {\n          commit('updateError', error)\n          return Promise.reject(error)\n        })\n      }\n    }\n\n    Object.assign(actions, options.actions || {})\n\n    return {\n      namespaced: true,\n\n      state: stateData,\n      getters,\n      mutations,\n      actions\n    }\n  }\n}\n"],"names":["options","apiService","Error","api","resource","call","name","parameters","idAttribute","perPage","methods","hasCreate","includes","hasDestroy","hasFetchFilters","hasFetchForm","hasFetchList","hasFetchSingle","hasReplace","hasUpdate","stateData","filters","list","totalPages","isFetchingSingle","fetchSingleError","isDestroying","destroyError","isFetchingFilters","fetchFiltersError","isFetchingForm","fetchFormError","isFetchingList","fetchListError","isReplacing","replaceError","isUpdating","updateError","Object","assign","state","getters","byId","id","find","item","isLoading","isCreating","hasErrors","createError","mutations","createStart","createSuccess","response","data","push","error","destroyStart","destroySuccess","index","findIndex","splice","fetchFiltersStart","fetchFiltersSuccess","fields","fetchFormStart","fetchFormSuccess","errors","fetchListStart","fetchListSuccess","payload","increment","results","count","Math","ceil","fetchSingleStart","fetchSingleSuccess","result","replaceStart","replaceSuccess","updateStart","updateSuccess","actions","create","commit","url","_this","post","then","Promise","reject","destroy","params","fetchFilters","fetchFiltersURL","get","fetchForm","fetchList","ordering","page","limit","search","offset","length","join","replaceURL","fetchSingle","form","fetchSingleURL","replace","put","update","patch","namespaced"],"mappings":"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"}